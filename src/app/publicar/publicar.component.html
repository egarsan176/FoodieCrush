
<div class="row p-1 my-3 justify-content-center">
    <div class="text-center mb-2">
        <h4>Hola {{name}}, aquÃ­ podrÃ¡s publicar tu receta para compartirla con la comunidad Foodie</h4>
    </div>
</div>


<div class="row p-1 my-3 justify-content-center">
    <div class="col-12 m-3">
        <div class="m-3">

            <div class="card">

                <div class="card-header colorYellowP m-2">
                    <div class="card-heading text-center">Foodie Crush</div>
                </div>

                <div class="card-body">
                    <h5 class="mb-2">
                        En primer lugar, muchas gracias por compartir tu receta ðŸ˜Š
                    </h5>
                    <p class="text-muted text-sm mb-3 d-none d-md-block d-sm-block">Es muy sencillo. Tan solo tienes que rellenar los siguientes campos con la informaciÃ³n que se detalla en cada uno de ellos.</p>
                    <form  (ngSubmit)="publicar()" #miFormulario="ngForm">
                    <div class="row">
                        <div class="col-md">
                            <div class="form-floating mb-3">
                                <input type="text" class="form-control" id="floatingInputGrid" placeholder="TÃ­tulo de la Receta" name="recipeName">
                                <label for="floatingInputGrid">TÃ­tulo de la receta</label>
                            </div>
                        </div>
                        <div class="col-md">
                            <div class="form-floating mb-3">
                                <select class="form-select pb-1" id="floatingSelectGrid" placeholder="CategorÃ­a" name="category">
                                    <option selected>Escoger...</option>
                                    <option value="1">Pasta</option>
                                    <option value="2">Arroz</option>
                                    <option value="3">Carne</option>
                                    <option value="4">Guisos</option>
                                    <option value="5">Salsas</option>                              
                                    <option value="6">Postres</option>
                                    <option value="7">Otro</option>
                                </select>
                                <label for="floatingSelectGrid">Selecciona una categorÃ­a para tu receta</label>
                            </div>
                        </div>
                    </div>

                    <div class="mb-3 row">
                        <div class="col-md">
                            <label class="col-form-label">Â¿QuÃ© ingredientes necesitamos?</label>
                            <div class="input-group">
                                <input class="form-control p-2" placeholder="AÃ±adir ingrediente" [(ngModel)]="ingrediente"
                                        (keyup.enter)="agregarIngrediente()"  name="ingredient">
                                <button class="btn colorPinkP" type="button" (click)="agregarIngrediente()">AÃ±adir</button>
                            </div>
                        </div>
                        <div class="col-md">
                            <label class="col-form-label">Â¿QuÃ© cantidad?</label>
                            <div class="input-group">
                                <input class="form-control p-2" placeholder="AÃ±adir ingrediente" [(ngModel)]="cantidad"
                                        (keyup.enter)="agregarCantidad()"  name="amount" >
                                <button class="btn colorPinkP" type="button" (click)="agregarCantidad()">AÃ±adir</button>
                            </div>

                        </div>
                    </div>


                    <div class="mb-3 row">
                        <label class="col-form-label">Escribe a continuaciÃ³n los pasos a seguir en la receta:</label>
                        <div class="input-group">
                            <input class="form-control p-2" placeholder="AÃ±adir Paso" [(ngModel)]="paso"
                                    (keyup.enter)="agregarPaso()"  name="step">
                            <button class="btn colorGreenP" type="button" (click)="agregarPaso()">AÃ±adir</button>
                        </div>
                    </div>

                    <!-- Listado de ingredientes -->
                    <div class="mb-3 row" *ngIf="ingredientLine!=null">
                        <label class="col-sm-3 col-form-label">Ingredientes:</label>
                        <div class="col-sm-9">

                            <div class="input-group mb-1"
                                *ngFor="let linea of recipe.ingredientLine; let i = index">
                                <input [(ngModel)]="linea.ingredient"
                                    name="favorito_{{ i }}"
                                    class="form-control"
                                    required>
                                    <input [(ngModel)]="linea.amount"
                                    name="favorito_{{ i }}"
                                    class="form-control"
                                    required>

                                <button class="btn btn-outline-danger"
                                        type="button"
                                        (click)="eliminar(i)">
                                Eliminar
                            </button>
                            </div>

                        </div>
                    </div>

                    <div class="mb-3 row">
                        <label class="col-form-label" for="inputGroupFile01">Sube aquÃ­ la imagen que usaremos para acompaÃ±ar tu receta:</label>
                        <div class="input-group">
                            <input type="file" class="form-control" id="inputGroupFile01"  accept=".jpg, .png, .jpeg"/> 
                        </div>
                    </div>

                    <button class="btn colorPurpleP mt-2" type="submit" [disabled]="miFormulario.invalid"
                    (click)="publicar()">GUARDAR</button>

                </form>
            </div>

            <div class="card-footer colorYellowP m-2 text-center">  
                <div class="text-sm text-muted">
                    Â¡Gracias! 
                </div>
            </div>
        </div> 
    </div>
</div>


<span>Receta</span>
<pre>{{recipe | json}}</pre>
 

<div class="row p-1 my-3 justify-content-center">
    <div class="text-center mb-2">
        <p>Â¿Quieres ver tus recetas ya publicadas? Haz click en el botÃ³n que aparece aquÃ­ abajo</p>
        <button class="btn colorPurpleP" routerLink="/publicar/ver">VER MIS RECETAS</button> <!-- aquÃ­ se carga la datatable -->
      </div>

</div>


